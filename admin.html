<!DOCTYPE html><html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Panel | FINSA</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-storage-compat.js"></script>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background: linear-gradient(to bottom right, #a78bfa, #f9a8d4);
      color: #1e293b;
    }
    header {
      background: linear-gradient(to right, #4c1d95, #ec4899);
      color: white;
      padding: 1.5rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .logout-btn {
      background-color: #ef4444;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
    }
    .tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      padding: 1rem;
      justify-content: center;
    }
    .tabs button {
      padding: 0.7rem 1.2rem;
      background: #8b5cf6;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      color: white;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    .tabs button.active {
      background: #ec4899;
    }
    section {
      display: none;
      margin: 1rem auto;
      padding: 1.5rem;
      width: 95%;
      max-width: 950px;
      border-radius: 16px;
      background: linear-gradient(to right bottom, #fce7f3, #ddd6fe);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    section.active {
      display: block;
    }
    .card {
      background: linear-gradient(to bottom, #f9a8d4, #d8b4fe);
      border-radius: 12px;
      padding: 1rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
      color: #111827;
    }
    input, textarea {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: none;
      margin-top: 8px;
      font-size: 1rem;
    }
  </style>
</head>
<body>
  <header>
    <h2>FINSA Admin Panel</h2>
    <button class="logout-btn" onclick="logoutUser()">Logout</button>
  </header>
  <div class="tabs">
    <button class="tab-link active" data-tab="home">Home</button>
    <button class="tab-link" data-tab="announcements">Announcements</button>
    <button class="tab-link" data-tab="events">Events</button>
    <button class="tab-link" data-tab="cbt">CBT</button>
    <button class="tab-link" data-tab="lostfound">Lost & Found</button>
    <button class="tab-link" data-tab="leaderboard">Leaderboard</button>
    <button class="tab-link" data-tab="feedback">Feedback</button>
    <button class="tab-link" data-tab="downloads">Downloads</button>
    <button class="tab-link" data-tab="settings">Settings</button>
  </div>
  <!-- CHUNK 5–9: Home Manager, Announcements, Events, CBT, Lost & Found Sections -->
  <section id="home">
    <h3>Home Manager</h3>
    <div class="card">
      <h4>Add Finance Tip</h4>
      <textarea id="tipInput" rows="3" placeholder="Enter a new tip..."></textarea>
      <button onclick="addFinanceTip()">Add Tip</button>
      <ul id="tipList"></ul>
    </div>

    <div class="card">
      <h4>Add Birthday</h4>
      <input type="text" id="bdayName" placeholder="Student's Name" />
      <input type="date" id="bdayDate" />
      <input type="file" id="bdayImage" accept="image/*" />
      <button onclick="addBirthday()">Add Birthday</button>
      <ul id="birthdayList"></ul>
    </div>

    <div class="card">
      <h4>Upload Ad Banner</h4>
      <input type="file" id="adImage" accept="image/*" />
      <img id="adPreview" src="" alt="Preview" style="max-height: 150px; display: none;" />
      <input type="text" id="adLink" placeholder="Ad redirect link (optional)" />
      <button onclick="uploadAd()">Upload Ad</button>
    </div>
  </section>

  <section id="announcements">
    <h3>Announcements</h3>
    <div class="card">
      <h4>New Announcement</h4>
      <textarea id="announceInput" rows="3" placeholder="Type announcement..."></textarea>
      <button onclick="postAnnouncement()">Post Announcement</button>
    </div>
    <div class="card">
      <h4>Posted Announcements</h4>
      <ul id="announcementList"></ul>
    </div>
  </section>

  <section id="events">
    <h3>Events</h3>
    <div class="card">
      <h4>Create New Event</h4>
      <input type="text" id="eventTitle" placeholder="Event Title" />
      <textarea id="eventDescription" rows="3" placeholder="Event Description..."></textarea>
      <input type="date" id="eventDate" />
      <button onclick="addEvent()">Add Event</button>
    </div>
    <div class="card">
      <h4>Upcoming Events</h4>
      <ul id="eventList"></ul>
    </div>
  </section>

  <section id="cbt">
    <h3>CBT Manager</h3>
    <div class="card">
      <h4>Upload Question</h4>
      <input type="text" id="cbtSubject" placeholder="Subject (e.g. Economics)" />
      <textarea id="cbtQuestion" rows="3" placeholder="Enter question..."></textarea>
      <input type="text" id="optionA" placeholder="Option A" />
      <input type="text" id="optionB" placeholder="Option B" />
      <input type="text" id="optionC" placeholder="Option C" />
      <input type="text" id="optionD" placeholder="Option D" />
      <input type="text" id="correctAnswer" placeholder="Correct Option (A, B, C, or D)" />
      <button onclick="addCBTQuestion()">Upload Question</button>
    </div>
  </section>

  <section id="lostfound">
    <h3>Lost & Found</h3>
    <div class="card">
      <h4>Review Submissions</h4>
      <ul id="lostFoundList"></ul>
    </div>
  </section>
  <!-- CHUNK 10–14: Leaderboard, Feedback, and Settings Sections -->

  <section id="leaderboard">
    <h3>Leaderboard</h3>
    <div class="card">
      <h4>Student Scores</h4>
      <ul id="leaderboardList"></ul>
    </div>
  </section>

  <section id="feedback">
    <h3>Feedback</h3>
    <div class="card">
      <h4>Submitted Feedback</h4>
      <ul id="feedbackList" style="list-style: none; padding-left: 0;"></ul>
    </div>
  </section>

  <section id="settings">
    <h3>Admin Settings</h3>
    <div class="card">
      <h4>Maintenance Mode</h4>
      <label>
        <input type="checkbox" id="maintenanceToggle" />
        Enable Maintenance Mode
      </label>
    </div>

    <div class="card">
      <h4>Dashboard Welcome Text</h4>
      <input type="text" id="welcomeText" placeholder="Welcome message for dashboard" />
    </div>

    <div class="card">
      <h4>Custom Alert Message</h4>
      <textarea id="adminAlert" rows="3" placeholder="Write a site-wide alert message (optional)"></textarea>
    </div>

    <div class="card">
      <button onclick="saveAdminSettings()">Save Settings</button>
      <p id="settingsSavedMsg" style="color: green; display: none;">Settings saved successfully!</p>
    </div>
  </section>

  <script>
    document.querySelectorAll(".tab-link").forEach((btn) => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".tab-link").forEach((b) => b.classList.remove("active"));
        document.querySelectorAll("section").forEach((s) => s.classList.remove("active"));

        btn.classList.add("active");
        document.getElementById(btn.dataset.tab).classList.add("active");
      });
    });

    function logoutUser() {
      firebase.auth().signOut().then(() => {
        window.location.href = "email-login.html";
      });
    }
  </script>
</body>
</html>
