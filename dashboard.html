<!-- dashboard.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Finance Point Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

  <!-- Style -->
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/11.10.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.10.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.10.0/firebase-firestore-compat.js"></script>

  <!-- Particles.js -->
  <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
</head>
<body>
  <!-- Particles background -->
  <div id="particles-js"></div>

  <!-- Top Nav -->
  <header class="topnav">
    <h1>Finance Point</h1>
    <div class="user-info">
      <span id="user-name">Loading...</span>
      <button id="logout-btn">Logout</button>
    </div>
  </header>

  <!-- Sidebar -->
  <nav class="sidebar">
    <ul>
      <li><a href="announcements.html">ðŸ“¢ Announcements</a></li>
      <li><a href="events.html">ðŸ“… Events</a></li>
      <li><a href="executives.html">ðŸ‘¥ Executives</a></li>
      <li><a href="downloads.html">ðŸ“¥ Downloads</a></li>
      <li><a href="quiz.html">ðŸ§  Quiz of the Week</a></li>
      <li><a href="birthday.html">ðŸŽ‚ Birthday Wall</a></li>
      <li><a href="lost-found.html">ðŸ“¦ Lost & Found</a></li>
      <li><a href="feedback.html">ðŸ“£ Feedback Box</a></li>
      <li><a href="tips.html">ðŸ’¡ Finance Tips</a></li>
    </ul>
  </nav>

  <!-- Main Dashboard -->
  <main class="dashboard-content">
    <h2 id="greeting">Welcome!</h2>
    <p><strong>Matric Number:</strong> <span id="matric-number">...</span></p>
    <p><strong>Email:</strong> <span id="user-email">...</span></p>

    <div class="card">
      <h3>ðŸ“Š Finance Fact of the Day</h3>
      <p id="fact">Money is not the root of all evil â€” the *love* of money is. ðŸ˜‰</p>
    </div>

    <div class="card">
      <h3>ðŸ“° Quick Tip</h3>
      <p>Budgeting is telling your money where to go, not wondering where it went.</p>
    </div>

    <div class="card">
      <h3>ðŸ“¢ Latest Announcement</h3>
      <p>New Finance Challenge begins next week. Stay tuned!</p>
    </div>
  </main>

  <!-- Firebase Config -->
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCH5H1FWEcHmQiCQhoc6GE8GhizqhTZoQc",
      authDomain: "finsa-connect.firebaseapp.com",
      projectId: "finsa-connect",
      storageBucket: "finsa-connect.firebasestorage.app",
      messagingSenderId: "126845965255",
      appId: "1:126845965255:web:c82539297a8464873d7fe2"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
  </script>

  <!-- Auth & Data Script -->
  <script>
    auth.onAuthStateChanged(async (user) => {
      if (!user) {
        window.location.href = "login.html";
        return;
      }

      const doc = await db.collection("users").doc(user.uid).get();
      const data = doc.data();

      document.getElementById("user-name").innerText = data.fullName || "Student";
      document.getElementById("greeting").innerText = `Welcome, ${data.fullName || "Student"}!`;
      document.getElementById("matric-number").innerText = data.matricNumber || "N/A";
      document.getElementById("user-email").innerText = user.email;
    });

    document.getElementById("logout-btn").addEventListener("click", () => {
      auth.signOut().then(() => {
        window.location.href = "login.html";
      });
    });
  </script>

  <!-- Particles Config -->
  <script src="particles-config.js"></script>
</body>
</html>
